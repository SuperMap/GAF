-- liquibase formatted sql logicalFilePath:dict/ordinary_data_source_type

-- changeset SYS:20210722-3
INSERT INTO "sys_dict" ("data_dict_id", "dict_code", "dict_name", "dict_value", "dict_class", "seq", "pid", "dict_desc", "status", "created_time", "created_by", "updated_time", "updated_by", "tenant_id", "visibility", "catalog_id", "ext_properties") VALUES ('cbb23f98-54b5-4e1b-9b01-3a1899c385b7', 'ORDINARY_DATASOURCE_TYPE', '普通数据源类型', NULL, NULL, 3, '0', NULL, 't', '2021-07-22 08:08:55.151557', 'sys_admin', '2021-07-22 08:08:55.151557', 'sys_admin', NULL, 't', '64b6f34d-7f8e-42d8-b50c-590b653b2107', NULL);
INSERT INTO "sys_dict" ("data_dict_id", "dict_code", "dict_name", "dict_value", "dict_class", "seq", "pid", "dict_desc", "status", "created_time", "created_by", "updated_time", "updated_by", "tenant_id", "visibility", "catalog_id", "ext_properties") VALUES ('d672a6c6-2318-4c9e-9dac-cb2986de8565', 'ORDINARY_DATASOURCE_TYPE', 'POSTGRESQL', '1', NULL, 1, 'cbb23f98-54b5-4e1b-9b01-3a1899c385b7', NULL, 't', '2021-07-22 08:11:44.670348', 'sys_admin', '2021-07-22 08:11:44.670348', 'sys_admin', NULL, 't', NULL, NULL);
INSERT INTO "sys_dict" ("data_dict_id", "dict_code", "dict_name", "dict_value", "dict_class", "seq", "pid", "dict_desc", "status", "created_time", "created_by", "updated_time", "updated_by", "tenant_id", "visibility", "catalog_id", "ext_properties") VALUES ('c112ae86-2ed0-49d9-864c-2637ce61bdc5', 'ORDINARY_DATASOURCE_TYPE', 'ORACLE', '2', NULL, 2, 'cbb23f98-54b5-4e1b-9b01-3a1899c385b7', NULL, 't', '2021-07-22 08:11:58.117351', 'sys_admin', '2021-07-22 08:11:58.117351', 'sys_admin', NULL, 't', NULL, NULL);
INSERT INTO "sys_dict" ("data_dict_id", "dict_code", "dict_name", "dict_value", "dict_class", "seq", "pid", "dict_desc", "status", "created_time", "created_by", "updated_time", "updated_by", "tenant_id", "visibility", "catalog_id", "ext_properties") VALUES ('c244613e-e253-4360-be30-3736ab06a34b', 'ORDINARY_DATASOURCE_TYPE', 'MYSQL', '3', NULL, 3, 'cbb23f98-54b5-4e1b-9b01-3a1899c385b7', NULL, 't', '2021-07-22 08:12:07.924978', 'sys_admin', '2021-07-22 08:12:07.924978', 'sys_admin', NULL, 't', NULL, NULL);
INSERT INTO "sys_dict" ("data_dict_id", "dict_code", "dict_name", "dict_value", "dict_class", "seq", "pid", "dict_desc", "status", "created_time", "created_by", "updated_time", "updated_by", "tenant_id", "visibility", "catalog_id", "ext_properties") VALUES ('e4e660a1-b703-4a22-8f6e-af7e47a82856', 'ORDINARY_DATASOURCE_TYPE', 'SQL_SERVER', '4', NULL, 4, 'cbb23f98-54b5-4e1b-9b01-3a1899c385b7', NULL, 't', '2021-07-22 08:12:20.147825', 'sys_admin', '2021-07-22 08:12:20.147825', 'sys_admin', NULL, 't', NULL, NULL);
UPDATE "sys_dict" t SET seq = m._seqnum
FROM (
    select data_dict_id,row_number() over (order by m.seq,m.updated_time desc ) as _seqnum from "sys_dict" m
    where catalog_id = '64b6f34d-7f8e-42d8-b50c-590b653b2107' and status = true
) m WHERE t.data_dict_id = m.data_dict_id